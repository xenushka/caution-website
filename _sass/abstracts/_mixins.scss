// ==========================================================================
// ABSTRACTS: MIXINS
// ==========================================================================

@use "variables" as *;

// ------------------------------------------------------------
// Media Queries
// ------------------------------------------------------------
@mixin media-mobile {
	@media (max-width: $breakpoint-mobile) {
		@content;
	}
}

@mixin media-tablet {
	@media (max-width: $breakpoint-tablet) {
		@content;
	}
}

@mixin media-desktop {
	@media (max-width: $breakpoint-desktop) {
		@content;
	}
}

@mixin media-large {
	@media (max-width: $breakpoint-large) {
		@content;
	}
}

// ------------------------------------------------------------
// Common Patterns
// ------------------------------------------------------------

// Flexbox centering
@mixin flex-center {
	display: flex;
	align-items: center;
	justify-content: center;
}

// Flexbox centering
@mixin flex-left {
	display: flex;
	align-items: center;
	justify-content: left;
}

// Absolute centering
@mixin absolute-center {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
}

// Simple glassmorphism with custom background
@mixin glass-simple($bg-color: rgba(232, 246, 253, 0.7), $blur: 8px) {
	background: $bg-color;
	backdrop-filter: blur($blur);
	-webkit-backdrop-filter: blur($blur);
}

// Frosted glass with shadow
@mixin frosted-card {
	background: rgba(232, 246, 253, 0.7);
	border-radius: var(--radius-md);
	box-shadow: 0 0 30px 20px rgba(232, 246, 253, 0.8);
}

// Glassmorphic effect with 3D shadows and depth
@mixin glass-effect($blur: 12px) {
	background-color: color-mix(
		in srgb,
		var(--color-grey-light) 12%,
		transparent
	);
	border: 0.5px solid var(--color-blue-mid);
	backdrop-filter: blur(5px) saturate(100%);
	-webkit-backdrop-filter: blur($blur) saturate(150%);
	box-shadow: inset 0 0 0 1px color-mix(in srgb, white 10%, transparent),
		inset 1.8px 3px 0px -2px color-mix(in srgb, white 90%, transparent),
		inset -2px -2px 0px -2px color-mix(in srgb, white 80%, transparent),
		inset -3px -8px 1px -6px color-mix(in srgb, white 60%, transparent),
		inset -0.3px -1px 4px 0px
			color-mix(in srgb, var(--color-dark) 12%, transparent),
		inset -1.5px 2.5px 0px -2px
			color-mix(in srgb, var(--color-dark) 6%, transparent),
		0 4px 12px rgba(0, 0, 0, 0.08);
}

// Light glassmorphism effect with Display-P3 color space
// Used for feature icons, glass buttons, and glass cards
// Supports optional blur amount parameter for future flexibility
@mixin glassmorphism-light($blur: 5px) {
	// Glassmorphism background - matching feature icons
	background: linear-gradient(
			180deg,
			rgba(255, 255, 255, 0.5) 0%,
			rgba(255, 255, 255, 0.5) 32.69%
		),
		linear-gradient(
			180deg,
			rgba(255, 255, 255, 0) 50%,
			rgba(255, 255, 255, 0) 100%
		),
		linear-gradient(0deg, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),
		linear-gradient(
			0deg,
			rgba(255, 255, 255, 0.3) 0%,
			rgba(255, 255, 255, 0.3) 100%
		),
		rgba(240, 240, 240, 0.25);
	background: linear-gradient(
			180deg,
			color(display-p3 0 0 0 / 0.01) 0%,
			color(display-p3 0 0 0 / 0.01) 35%
		),
		linear-gradient(
			180deg,
			color(display-p3 1 1 1 / 0) 50%,
			color(display-p3 1 1 1 / 0.05) 100%
		),
		linear-gradient(
			0deg,
			color(display-p3 1 1 1 / 0.01) 0%,
			color(display-p3 1 1 1 / 0.01) 100%
		),
		linear-gradient(
			0deg,
			color(display-p3 1 1 1 / 0.03) 0%,
			color(display-p3 1 1 1 / 0.05) 100%
		),
		color(display-p3 0.95 0.95 0.95 / 0.03);
	background-blend-mode: plus-lighter, plus-lighter, normal, color-burn, overlay;

	// Box shadows
	box-shadow: 16px 16px 9px -18px #fff inset,
		-12px -12px 6px -14px #e0e0e0 inset, 2px 2px 1px -2px #e0e0e0 inset,
		0 0 22px 0 rgba(242, 242, 242, 0.5) inset, 0 4px 12px rgba(0, 0, 0, 0.08);
	box-shadow: 16px 16px 9px -18px color(display-p3 1 1 1) inset,
		-12px -12px 6px -14px color(display-p3 0.88 0.88 0.88) inset,
		2px 2px 1px -2px color(display-p3 0.88 0.88 0.88) inset,
		0 0 22px 0 color(display-p3 0.949 0.949 0.949 / 0.3) inset,
		0 4px 12px rgba(0, 0, 0, 0.08);

	// Backdrop filter
	backdrop-filter: blur($blur);
	-webkit-backdrop-filter: blur($blur);

	// Transitions
	transition: all var(--transition-base);
}

// Dark glassmorphism effect with Display-P3 color space
// Used for dark variant glass cards and components
// Supports optional blur amount parameter for future flexibility
@mixin glassmorphism-dark($blur: 5px) {
	// Glassmorphism background - darker variant
	background: linear-gradient(
			180deg,
			rgba(0, 0, 0, 0) 0%,
			rgba(0, 0, 0, 0) 32.69%
		),
		linear-gradient(180deg, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0) 100%),
		linear-gradient(0deg, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%),
		linear-gradient(0deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0) 100%),
		rgba(0, 0, 0, 0);
	background: linear-gradient(
			180deg,
			color(display-p3 0 0 0 / 0) 0%,
			color(display-p3 0 0 0 / 0) 35%
		),
		linear-gradient(
			180deg,
			color(display-p3 0 0 0 / 0) 50%,
			color(display-p3 0 0 0 / 0) 100%
		),
		linear-gradient(
			0deg,
			color(display-p3 0 0 0 / 0.05) 0%,
			color(display-p3 0 0 0 / 0.05) 100%
		),
		linear-gradient(
			0deg,
			color(display-p3 0 0 0 / 0) 0%,
			color(display-p3 0 0 0 / 0) 100%
		),
		color(display-p3 0 0 0 / 0);
	background-blend-mode: plus-lighter, plus-lighter, normal, color-burn, overlay;

	// Box shadows
	box-shadow: 16px 16px 9px -18px #fff inset,
		-12px -12px 6px -14px #e0e0e0 inset, 2px 2px 1px -2px #e0e0e0 inset,
		0 0 22px 0 rgba(242, 242, 242, 0.5) inset, 0 4px 12px rgba(0, 0, 0, 0.08);
	box-shadow: 16px 16px 9px -18px color(display-p3 1 1 1) inset,
		-12px -12px 6px -14px color(display-p3 0.88 0.88 0.88) inset,
		2px 2px 1px -2px color(display-p3 0.88 0.88 0.88) inset,
		0 0 22px 0 color(display-p3 0.949 0.949 0.949 / 0.3) inset,
		0 4px 12px rgba(0, 0, 0, 0.08);

	// Backdrop filter
	backdrop-filter: blur($blur);
	-webkit-backdrop-filter: blur($blur);

	// Transitions
	transition: all var(--transition-base);
}

// Hover lift effect
@mixin hover-lift($distance: 4px) {
	transition: transform var(--transition-base),
		box-shadow var(--transition-base);

	&:hover {
		transform: translateY(-#{$distance});
	}
}

// Truncate text
@mixin truncate {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

// Visually hidden (accessible)
@mixin visually-hidden {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

// Focus styles
@mixin focus-visible {
	&:focus-visible {
		outline: 2px solid var(--color-violet);
		outline-offset: 2px;
	}
}

// ------------------------------------------------------------
// Typography Mixins
// ------------------------------------------------------------

// Heading 1
@mixin heading1 {
	font-size: var(--heading1-font-size);
	font-weight: var(--heading1-font-weight);
	line-height: var(--heading1-line-height);
	letter-spacing: var(--heading1-letter-spacing);
}

// Heading 2
@mixin heading2 {
	font-size: var(--heading2-font-size);
	font-weight: var(--heading2-font-weight);
	line-height: var(--heading2-line-height);
	letter-spacing: var(--heading2-letter-spacing);
}

// Heading 3
@mixin heading3 {
	font-size: var(--heading3-font-size);
	font-weight: var(--heading3-font-weight);
	line-height: var(--heading3-line-height);
	letter-spacing: var(--heading3-letter-spacing);
}

// Subtitle
@mixin subtitle {
	font-size: var(--subtitle-font-size);
	font-weight: var(--subtitle-font-weight);
	line-height: var(--subtitle-line-height);
	letter-spacing: var(--subtitle-letter-spacing);
}

// Body text
@mixin body {
	font-size: var(--body-font-size);
	font-weight: var(--body-font-weight);
	line-height: var(--body-line-height);
	letter-spacing: var(--body-letter-spacing);
}

// Button text
@mixin button-text {
	font-size: var(--button-font-size);
	font-weight: var(--button-font-weight);
	line-height: var(--button-line-height);
	letter-spacing: var(--button-letter-spacing);
}

// List text
@mixin list-text {
	font-size: var(--list-font-size);
	font-weight: var(--list-font-weight);
	line-height: var(--list-line-height);
	letter-spacing: var(--list-letter-spacing);
}
