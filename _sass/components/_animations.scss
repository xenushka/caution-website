// ==========================================================================
// COMPONENTS: ANIMATIONS & EFFECTS
// ==========================================================================

@use "../abstracts/variables" as *;
@use "../abstracts/mixins" as *;

// ------------------------------------------------------------
// Fade In Animation
// ------------------------------------------------------------
@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

.fade-in {
	opacity: 0;
	animation: fadeIn ease 1.1s forwards;
}

// ------------------------------------------------------------
// Waves Background Effect
// ------------------------------------------------------------
.waves-container {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: 1;
	pointer-events: none;
}

a-waves {
	--x: -0.5rem;
	--y: 50%;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;

	&:before {
		position: absolute;
		top: 0;
		left: 0;
		width: 0.5rem;
		height: 0.5rem;
		background: #1a1a1a;
		border-radius: 50%;
		transform: translate3d(calc(var(--x) - 50%), calc(var(--y) - 50%), 0);
		will-change: transform;
		content: "";
		opacity: 0.5;
		pointer-events: auto;
	}

	svg {
		display: block;
		width: 100%;
		height: 100%;

		path {
			fill: none;
			stroke: #1a1a1a;
			stroke-width: 1px;
			opacity: 0.5;
		}
	}
}

// ------------------------------------------------------------
// 3D Rotating Cube (Black Box Theme)
// ------------------------------------------------------------
.cube_wrapper {
	transform: rotateX(-30deg) translateX(-50%) translateZ(0);
	margin: 5rem auto;
	left: 50%;
	position: relative;
	transform-style: preserve-3d;
	min-height: 300px;
	will-change: transform;
	-webkit-backface-visibility: hidden;
	-webkit-perspective: 1000;

	@include media-mobile {
		min-height: 200px;
		margin: 4rem auto;
	}
}

// Hero cube positioning
.hero-cube {
	position: absolute;
	right: 5%;
	top: 50%;
	transform: rotateX(-30deg) translateY(-50%) translateZ(0);
	margin: 0;
	left: auto;
	min-height: 300px;

	@include media-tablet {
		right: 2%;
		top: 60%;
	}

	@include media-mobile {
		position: relative;
		right: auto;
		top: auto;
		transform: rotateX(-30deg) translateX(-50%) translateZ(0);
		left: 50%;
		margin: 4rem auto;
		min-height: 200px;
	}

	// Transparent glass styling for hero cube faces
	.cube_face {
		@include glassmorphism-light;
		color: transparent;
		// Show both sides for true transparency
		backface-visibility: visible;
		-webkit-backface-visibility: visible;
	}
}

// Dark cube positioning
.dark-cube {
	// Center within grid column
	left: 0;
	right: 0;
	margin-left: auto;
	margin-right: auto;
	transform: rotateX(-30deg) translateZ(0);

	@include media-mobile {
		order: 1;
		left: 50%;
		transform: rotateX(-30deg) translateX(-50%) translateZ(0);
	}
}

.cube {
	transition: all 0.3s ease;
	height: 300px;
	width: 300px;
	transform: rotateY(-45deg) translateZ(0);
	transform-style: preserve-3d;
	animation: cube_rotate 12s infinite cubic-bezier(0.4, 0, 0.2, 1);
	margin: 0 auto;
	will-change: transform;
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;

	@include media-mobile {
		height: 200px;
		width: 200px;
	}
}

.cube_face {
	color: #00ff26;
	background: rgb(20, 20, 20);
	border: solid 1px #404040;
	position: absolute;
	transform-style: preserve-3d;
	box-sizing: border-box;
	backface-visibility: hidden;
	-webkit-backface-visibility: hidden;
	height: 300px;
	width: 300px;
	display: flex;
	align-items: center;
	justify-content: center;
	text-align: center;
	font-family: "Geist Mono", monospace;
	font-size: clamp(1rem, 8vw, 1.5rem);
	font-weight: 400;
	line-height: 1.2;
	padding: 1rem;
	will-change: transform;
	word-break: break-word;
	hyphens: auto;

	@include media-mobile {
		height: 200px;
		width: 200px;
		font-size: clamp(0.85rem, 6vw, 1.2rem);
		padding: 0.75rem;
	}
}

.cube .cube_face:nth-child(1) {
	transform: rotateX(90deg) rotateY(0deg) translateZ(150px);
	filter: brightness(90%);
	font-size: 9rem;

	@include media-mobile {
		transform: rotateX(90deg) rotateY(0deg) translateZ(100px);
		font-size: 6rem;
	}
}

.cube .cube_face:nth-child(2) {
	transform: rotateX(0deg) rotateY(0deg) translateZ(150px);
	filter: brightness(80%);
	font-size: 9rem;

	@include media-mobile {
		transform: rotateX(0deg) rotateY(0deg) translateZ(100px);
		font-size: 6rem;
	}
}

.cube .cube_face:nth-child(3) {
	transform: rotateX(0deg) rotateY(90deg) translateZ(150px);
	filter: brightness(70%);
	font-size: 9rem;

	@include media-mobile {
		transform: rotateX(0deg) rotateY(90deg) translateZ(100px);
		font-size: 6rem;
	}
}

.cube .cube_face:nth-child(4) {
	transform: rotateX(0deg) rotateY(180deg) rotateZ(180deg) translateZ(150px);
	filter: brightness(80%);
	font-size: 9rem;

	@include media-mobile {
		transform: rotateX(0deg) rotateY(180deg) rotateZ(180deg) translateZ(100px);
		font-size: 6rem;
	}
}

.cube .cube_face:nth-child(5) {
	transform: rotateX(0deg) rotateY(270deg) rotateZ(180deg) translateZ(150px);
	filter: brightness(70%);
	font-size: 9rem;

	@include media-mobile {
		transform: rotateX(0deg) rotateY(270deg) rotateZ(180deg) translateZ(100px);
		font-size: 6rem;
	}
}

.cube .cube_face:nth-child(6) {
	transform: rotateX(-90deg) rotateY(0deg) translateZ(150px);
	filter: brightness(60%);
	font-size: 9rem;

	@include media-mobile {
		transform: rotateX(-90deg) rotateY(0deg) translateZ(100px);
		font-size: 6rem;
	}
}

@keyframes cube_rotate {
	0% {
		transform: rotateY(-45deg);
	}
	16.7% {
		transform: rotateY(-45deg) rotateX(-90deg);
	}
	33.3% {
		transform: rotateY(-45deg) rotateX(-90deg) rotateZ(90deg) rotateX(0deg);
	}
	50% {
		transform: rotateY(-45deg) rotateX(-90deg) rotateZ(90deg) rotateX(-90deg);
	}
	66.7% {
		transform: rotateY(-45deg) rotateX(-90deg) rotateZ(90deg) rotateX(-90deg)
			rotateZ(90deg) rotateX(0deg);
	}
	83.3% {
		transform: rotateY(-45deg) rotateX(-90deg) rotateZ(90deg) rotateX(-90deg)
			rotateZ(90deg) rotateX(-90deg);
	}
	100% {
		transform: rotateY(-45deg) rotateX(-90deg) rotateZ(90deg) rotateX(-90deg)
			rotateZ(90deg) rotateX(-90deg) rotateZ(90deg);
	}
}
