<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: en }}">
	{%- include head.html -%}
	<body class="landing-v2">
		<div class="page-wrapper">
			{%- include header.html -%}

			<main>
				<section class="hero hero--landing">
					<video
						id="hero-video"
						class="hero__video"
						autoplay
						muted
						loop
						playsinline
					>
						<source src="/assets/videos/fractal-white.mp4" type="video/mp4" />
					</video>
					<div class="hero__overlay"></div>
					<div class="hero-content container">
						<!-- <div class="badge">
							<span>COMING SOON</span>
						</div> -->
						<h1 class="hero-title">Know what runs on a server</h1>
						<p class="hero__subtext u-show-desktop">
							No more black boxes. Run sensitive workloads with cryptographic
							proof of execution. Portable across any cloud and bare metal,
							simple as Heroku.
						</p>

						<div class="waitlist-form">
							<form
								id="contact-form"
								method="post"
								class="email-form"
								action="https://distrust.co/submit-email"
							>
								<div class="input-wrapper">
									<input
										type="email"
										name="email"
										placeholder="Enter email"
										id="email"
										class="email-input"
										required
									/>
									<input
										type="hidden"
										id="name"
										name="name"
										class="form-input"
										value="caution.co"
									/>
									<input
										type="hidden"
										id="company-name"
										value="caution.co"
										name="company-name"
										class="form-input"
									/>
									<input
										id="service"
										type="hidden"
										name="service"
										class="form-select"
										value="caution.co"
									/>
									<input
										type="hidden"
										id="other-source"
										name="other-source"
										class="form-input"
										placeholder="Please specify"
									/>
									<input
										type="hidden"
										id="other-source"
										name="help"
										class="form-input"
										placeholder="Please specify"
									/>
									<button type="submit" class="btn" aria-label="Submit email">
										Get early access
									</button>
								</div>
							</form>
						</div>
					</div>
				</section>

				{%- include statement-section.html -%}

				<!-- Problem Section -->
				<section class="problem-section">
					<div class="container">
						<h1 class="section-title">
							What happens when you can't verify what runs in production?
						</h1>

						<div class="problem-grid">
							{% include problem-card.html card_id="problem-1" title="Zero
							execution visibility" description="Breaches persist for months
							because teams cannot see what actually runs."
							video="problemz.mp4" video_start="0" %} {% include
							problem-card.html card_id="problem-2" title="Hidden attack
							surface" description="Unverified code drives $120B+ in annual
							losses globally." video="problemz.mp4" video_start="2" %} {%
							include problem-card.html card_id="problem-3" title="Systemic
							trust failures" description="Legacy clouds offer no proof, leaving
							defenders blind." video="problemz.mp4" video_start="4" %}
						</div>
					</div>
				</section>

				<!-- Features Section -->
				<section class="features-section">
					<div class="container">
						<h1 class="section-title">Run any software verifiably</h1>

						<div class="features-grid">
							<!-- Feature 1 -->
							<div class="feature-item">
								<div class="feature-item__icon">
									<!-- Icon placeholder -->
								</div>
								<h3 class="feature-item__title">Know what ran</h3>
								<p class="feature-item__description">
									Guessing what ran in production is not security. Get ground
									truth with reproducible workloads and hardware attestation.
								</p>
							</div>

							<!-- Feature 2 -->
							<div class="feature-item">
								<div class="feature-item__icon">
									<!-- Icon placeholder -->
								</div>
								<h3 class="feature-item__title">Run anywhere</h3>
								<p class="feature-item__description">
									We fit into your stack, not the other way around. Run Caution
									on AWS, Azure, GCP, or bare metal.
								</p>
							</div>

							<!-- Feature 3 -->
							<div class="feature-item">
								<div class="feature-item__icon">
									<!-- Icon placeholder -->
								</div>
								<h3 class="feature-item__title">Deploy in minutes</h3>
								<p class="feature-item__description">
									It is 2025. Secure enclaves and attestation should not take
									months to configure.
								</p>
							</div>

							<!-- Feature 4 -->
							<div class="feature-item">
								<div class="feature-item__icon">
									<!-- Icon placeholder -->
								</div>
								<h3 class="feature-item__title">Verify any workload</h3>
								<p class="feature-item__description">
									From healthcare and AI to critical finance systems, Caution
									delivers generalized verifiable compute.
								</p>
							</div>

							<!-- Feature 5 -->
							<div class="feature-item">
								<div class="feature-item__icon">
									<!-- Icon placeholder -->
								</div>
								<h3 class="feature-item__title">Open source, fully</h3>
								<p class="feature-item__description">
									Caution is full-source bootstrapped, reproducible, and
									completely open.
								</p>
							</div>
						</div>

						<!-- Glassmorphic CTA Button -->
						<div style="display: flex; justify-content: center; margin-top: var(--spacing7);">
							<a href="#" class="btn-glass">
								Learn more
								</svg>
							</a>
						</div>

						<!-- Glassmorphic Light Cards Demo -->
						<div style="display: flex; gap: var(--spacing6); margin-top: var(--spacing7); justify-content: center; flex-wrap: wrap;">
							<!-- Standard Glass Card -->
							<div class="card-glass" style="max-width: 400px; flex: 1 1 calc(50% - var(--spacing3));">
								<h3 class="feature-item__title">Light card</h3>
								<p class="feature-item__description">
									We fit into your stack, not the other way around. Run Caution
									on AWS, Azure, GCP, or bare metal.
								</p>
							</div>
							
						</div>
					</div>
				</section>

				</section>


		{%- include footer.html -%}

		<script>
			// Ensure videos loop properly
			const statementVideo = document.getElementById("statement-video");
			const heroVideo = document.getElementById("hero-video");

			function ensureVideoLoops(video) {
				if (video) {
					video.addEventListener("ended", function () {
						this.currentTime = 0;
						this.play();
					});

					// Try to play the video (some browsers require user interaction)
					video.play().catch((err) => {
						console.log("Video autoplay failed:", err);
					});
				}
			}

			ensureVideoLoops(statementVideo);
			ensureVideoLoops(heroVideo);

			// Slow down hero video
			if (heroVideo) {
				heroVideo.playbackRate = 0.5; // Slow down to 50% speed
			}

			// Set start times and playback speed for problem card videos
			document.addEventListener("DOMContentLoaded", function () {
				const problemCardVideos = document.querySelectorAll(
					".problem-card__video"
				);

				problemCardVideos.forEach(function (video) {
					const startTime =
						parseFloat(video.getAttribute("data-start-time")) || 0;

					video.addEventListener("loadedmetadata", function () {
						this.currentTime = startTime;
						this.playbackRate = 0.5; // Slow down to 50% speed
					});
				});
			});
		</script>
	</body>
</html>
