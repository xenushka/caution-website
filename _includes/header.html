{%- assign page_paths = site.header_pages | default: default_paths -%}

<header class="header-navbar">
	<div class="nav-top-bar container">
		<a href="/index.html" class="nav-logo">
			<img src="/assets/base/caution-logo/logo-bw.svg" alt="Caution logo" />
		</a>

		<nav class="nav-desktop">
			<div class="nav-glass-container">
				<a href="#" class="nav-link">Platform</a>
				<a href="#" class="nav-link">Security</a>
				<a href="/blog.html" class="nav-link">Blog</a>
				<a href="#" class="nav-cta">
					Join Waitlist
	
						<path d="M7 7h10v10"></path>
						<path d="M7 17 17 7"></path>
					</svg>
				</a>
			</div>
		</nav>

		<button
			class="mobile-menu-button"
			id="mobile-menu-button"
			aria-expanded="false"
			aria-label="Toggle menu"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				width="24"
				height="24"
				viewBox="0 0 24 24"
				fill="none"
				stroke="currentColor"
				stroke-width="1.5"
				stroke-linecap="round"
				stroke-linejoin="round"
			>
				<path d="M4 5h16"></path>
				<path d="M4 12h16"></path>
				<path d="M4 19h16"></path>
			</svg>
		</button>
	</div>

	<!-- Mobile menu -->
	<div id="mobile-menu" class="mobile-menu">
		<div class="mobile-menu-content">
			<a href="#" class="mobile-menu-link">Home</a>
			<a href="#" class="mobile-menu-link">Platform</a>
			<a href="#" class="mobile-menu-link">Security</a>
			<a href="/blog.html" class="mobile-menu-link">Blog</a>
			<a href="#" class="mobile-menu-cta">
				Join Waitlist
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="18"
					height="18"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="1.5"
					stroke-linecap="round"
					stroke-linejoin="round"
				>
					<path d="M7 7h10v10"></path>
					<path d="M7 17 17 7"></path>
				</svg>
			</a>
		</div>
	</div>
</header>

<script>
	// Mobile menu toggle
	document.addEventListener("DOMContentLoaded", function () {
		const mobileMenuButton = document.getElementById("mobile-menu-button");
		const mobileMenu = document.getElementById("mobile-menu");

		if (mobileMenuButton && mobileMenu) {
			mobileMenuButton.addEventListener("click", () => {
				const isExpanded =
					mobileMenuButton.getAttribute("aria-expanded") === "true";
				mobileMenuButton.setAttribute("aria-expanded", !isExpanded);
				mobileMenu.classList.toggle("active");
			});
		}
	});
</script>

<!-- <header>
  <div class="menu">
    <div class="left-menu">
      <a id="home-link" href="/index.html">
        <img class="menu-logo" src="/assets/base/caution-logo/caution-icon-black.svg"
          alt="Caution triangle logo with black text" />
      </a>
    </div>
    <div class="right-menu">
      <ul class="header-page-links show">
        {%- for path in page_paths -%}
          {%- assign my_page = site.pages | where: "path", path | first -%}
          {%- if my_page.title -%}
            {%- if my_page.title != 'Home' -%}
              <li><a href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a></li>
            {%- endif -%}
          {%- endif -%}
        {%- endfor -%}
        <li class="show">
          <a href="#" class="btn btn-primary">Get started â†’</a>
        </li>

      </ul>
			<input type="checkbox" id="menu-toggle" />

			<label for="menu-toggle" class="hamburger-menu">
				<span></span>
				<span></span>
				<span></span>
			</label>

			<div class="menu-content">
				<div class="inner-menu-content">
					{% include nav-links.html %}
				</div>
			</div>
    </div>
  </div>



	<script>
		document.addEventListener('DOMContentLoaded', function () {
			let pathSegment = window.location.pathname.split('/')[1];

			if (pathSegment.endsWith('.html')) {
				pathSegment = pathSegment.replace('.html', '');
			}

			const navLinks = document.querySelectorAll('.header-page-links li a');

			navLinks.forEach(link => {
				let linkPath = link.getAttribute('href').replace('/', '').replace('.html', '');

				if (linkPath === pathSegment) {
					link.classList.add('active');
				}
			});
		});

		let prevScrollPos = window.scrollY;
		const hamburgerMenu = document.querySelector('.menu-content');

		window.addEventListener('scroll', () => {
			const currentScrollPos = window.scrollY;

			if (currentScrollPos > prevScrollPos) {
				document.getElementById('menu-toggle').checked = false;
			}
			prevScrollPos = currentScrollPos;
		});

	</script>

</header>

-->
